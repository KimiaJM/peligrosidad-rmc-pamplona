(self.webpackChunksitna_map_project_by_kimia_jimenez_majidi=self.webpackChunksitna_map_project_by_kimia_jimenez_majidi||[]).push([[543],{350:(t,e,r)=>{t.exports=h;var i=r(7807),n=r(2957),o=r(740),s=r(4263),a=r(1199);function h(t,e){n.call(this),this.points=t||[],this.srid=e,this.points.length>0&&(this.hasZ=this.points[0].hasZ,this.hasM=this.points[0].hasM)}i.inherits(h,n),h.Z=function(t,e){var r=new h(t,e);return r.hasZ=!0,r},h.M=function(t,e){var r=new h(t,e);return r.hasM=!0,r},h.ZM=function(t,e){var r=new h(t,e);return r.hasZ=!0,r.hasM=!0,r},h._parseWkt=function(t,e){var r=new h;return r.srid=e.srid,r.hasZ=e.hasZ,r.hasM=e.hasM,t.isMatch(["EMPTY"])||(t.expectGroupStart(),r.points.push.apply(r.points,t.matchCoordinates(e)),t.expectGroupEnd()),r},h._parseWkb=function(t,e){var r=new h;r.srid=e.srid,r.hasZ=e.hasZ,r.hasM=e.hasM;for(var i=t.readUInt32(),n=0;n<i;n++)r.points.push(s._readWkbPoint(t,e));return r},h._parseTwkb=function(t,e){var r=new h;if(r.hasZ=e.hasZ,r.hasM=e.hasM,e.isEmpty)return r;for(var i=new s(0,0,e.hasZ?0:void 0,e.hasM?0:void 0),n=t.readVarInt(),o=0;o<n;o++)r.points.push(s._readTwkbPoint(t,e,i));return r},h._parseGeoJSON=function(t){var e=new h;t.coordinates.length>0&&(e.hasZ=t.coordinates[0].length>2);for(var r=0;r<t.coordinates.length;r++)e.points.push(s._readGeoJSONPoint(t.coordinates[r]));return e},h.prototype.toWkt=function(){return 0===this.points.length?this._getWktType(o.wkt.LineString,!0):this._getWktType(o.wkt.LineString,!1)+this._toInnerWkt()},h.prototype._toInnerWkt=function(){for(var t="(",e=0;e<this.points.length;e++)t+=this._getWktCoordinate(this.points[e])+",";return(t=t.slice(0,-1))+")"},h.prototype.toWkb=function(t){var e=new a(this._getWkbSize());e.writeInt8(1),this._writeWkbType(e,o.wkb.LineString,t),e.writeUInt32LE(this.points.length);for(var r=0;r<this.points.length;r++)this.points[r]._writeWkbPoint(e);return e.buffer},h.prototype.toTwkb=function(){var t=new a(0,!0),e=n.getTwkbPrecision(5,0,0),r=0===this.points.length;if(this._writeTwkbHeader(t,o.wkb.LineString,e,r),this.points.length>0){t.writeVarInt(this.points.length);for(var i=new s(0,0,0,0),h=0;h<this.points.length;h++)this.points[h]._writeTwkbPoint(t,e,i)}return t.buffer},h.prototype._getWkbSize=function(){var t=16;return this.hasZ&&(t+=8),this.hasM&&(t+=8),9+this.points.length*t},h.prototype.toGeoJSON=function(t){var e=n.prototype.toGeoJSON.call(this,t);e.type=o.geoJSON.LineString,e.coordinates=[];for(var r=0;r<this.points.length;r++)this.hasZ?e.coordinates.push([this.points[r].x,this.points[r].y,this.points[r].z]):e.coordinates.push([this.points[r].x,this.points[r].y]);return e}},543:(t,e,r)=>{e.Types=r(740),e.Geometry=r(2957),e.Point=r(4263),e.LineString=r(350),e.Polygon=r(743),e.MultiPoint=r(3452),e.MultiLineString=r(3959),e.MultiPolygon=r(9236),e.GeometryCollection=r(1141)},740:t=>{t.exports={wkt:{Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION"},wkb:{Point:1,LineString:2,Polygon:3,MultiPoint:4,MultiLineString:5,MultiPolygon:6,GeometryCollection:7},geoJSON:{Point:"Point",LineString:"LineString",Polygon:"Polygon",MultiPoint:"MultiPoint",MultiLineString:"MultiLineString",MultiPolygon:"MultiPolygon",GeometryCollection:"GeometryCollection"}}},743:(t,e,r)=>{t.exports=h;var i=r(7807),n=r(2957),o=r(740),s=r(4263),a=r(1199);function h(t,e,r){n.call(this),this.exteriorRing=t||[],this.interiorRings=e||[],this.srid=r,this.exteriorRing.length>0&&(this.hasZ=this.exteriorRing[0].hasZ,this.hasM=this.exteriorRing[0].hasM)}i.inherits(h,n),h.Z=function(t,e,r){var i=new h(t,e,r);return i.hasZ=!0,i},h.M=function(t,e,r){var i=new h(t,e,r);return i.hasM=!0,i},h.ZM=function(t,e,r){var i=new h(t,e,r);return i.hasZ=!0,i.hasM=!0,i},h._parseWkt=function(t,e){var r=new h;if(r.srid=e.srid,r.hasZ=e.hasZ,r.hasM=e.hasM,t.isMatch(["EMPTY"]))return r;for(t.expectGroupStart(),t.expectGroupStart(),r.exteriorRing.push.apply(r.exteriorRing,t.matchCoordinates(e)),t.expectGroupEnd();t.isMatch([","]);)t.expectGroupStart(),r.interiorRings.push(t.matchCoordinates(e)),t.expectGroupEnd();return t.expectGroupEnd(),r},h._parseWkb=function(t,e){var r=new h;r.srid=e.srid,r.hasZ=e.hasZ,r.hasM=e.hasM;var i=t.readUInt32();if(i>0){for(var n=t.readUInt32(),o=0;o<n;o++)r.exteriorRing.push(s._readWkbPoint(t,e));for(o=1;o<i;o++){for(var a=[],p=t.readUInt32(),u=0;u<p;u++)a.push(s._readWkbPoint(t,e));r.interiorRings.push(a)}}return r},h._parseTwkb=function(t,e){var r=new h;if(r.hasZ=e.hasZ,r.hasM=e.hasM,e.isEmpty)return r;for(var i=new s(0,0,e.hasZ?0:void 0,e.hasM?0:void 0),n=t.readVarInt(),o=t.readVarInt(),a=0;a<o;a++)r.exteriorRing.push(s._readTwkbPoint(t,e,i));for(a=1;a<n;a++){for(var p=[],u=t.readVarInt(),c=0;c<u;c++)p.push(s._readTwkbPoint(t,e,i));r.interiorRings.push(p)}return r},h._parseGeoJSON=function(t){var e=new h;t.coordinates.length>0&&t.coordinates[0].length>0&&(e.hasZ=t.coordinates[0][0].length>2);for(var r=0;r<t.coordinates.length;r++){r>0&&e.interiorRings.push([]);for(var i=0;i<t.coordinates[r].length;i++)0===r?e.exteriorRing.push(s._readGeoJSONPoint(t.coordinates[r][i])):e.interiorRings[r-1].push(s._readGeoJSONPoint(t.coordinates[r][i]))}return e},h.prototype.toWkt=function(){return 0===this.exteriorRing.length?this._getWktType(o.wkt.Polygon,!0):this._getWktType(o.wkt.Polygon,!1)+this._toInnerWkt()},h.prototype._toInnerWkt=function(){for(var t="((",e=0;e<this.exteriorRing.length;e++)t+=this._getWktCoordinate(this.exteriorRing[e])+",";for(t=t.slice(0,-1),t+=")",e=0;e<this.interiorRings.length;e++){t+=",(";for(var r=0;r<this.interiorRings[e].length;r++)t+=this._getWktCoordinate(this.interiorRings[e][r])+",";t=t.slice(0,-1),t+=")"}return t+")"},h.prototype.toWkb=function(t){var e=new a(this._getWkbSize());e.writeInt8(1),this._writeWkbType(e,o.wkb.Polygon,t),this.exteriorRing.length>0?(e.writeUInt32LE(1+this.interiorRings.length),e.writeUInt32LE(this.exteriorRing.length)):e.writeUInt32LE(0);for(var r=0;r<this.exteriorRing.length;r++)this.exteriorRing[r]._writeWkbPoint(e);for(r=0;r<this.interiorRings.length;r++){e.writeUInt32LE(this.interiorRings[r].length);for(var i=0;i<this.interiorRings[r].length;i++)this.interiorRings[r][i]._writeWkbPoint(e)}return e.buffer},h.prototype.toTwkb=function(){var t=new a(0,!0),e=n.getTwkbPrecision(5,0,0),r=0===this.exteriorRing.length;if(this._writeTwkbHeader(t,o.wkb.Polygon,e,r),this.exteriorRing.length>0){t.writeVarInt(1+this.interiorRings.length),t.writeVarInt(this.exteriorRing.length);for(var i=new s(0,0,0,0),h=0;h<this.exteriorRing.length;h++)this.exteriorRing[h]._writeTwkbPoint(t,e,i);for(h=0;h<this.interiorRings.length;h++){t.writeVarInt(this.interiorRings[h].length);for(var p=0;p<this.interiorRings[h].length;p++)this.interiorRings[h][p]._writeTwkbPoint(t,e,i)}}return t.buffer},h.prototype._getWkbSize=function(){var t=16;this.hasZ&&(t+=8),this.hasM&&(t+=8);var e=9;this.exteriorRing.length>0&&(e+=4+this.exteriorRing.length*t);for(var r=0;r<this.interiorRings.length;r++)e+=4+this.interiorRings[r].length*t;return e},h.prototype.toGeoJSON=function(t){var e=n.prototype.toGeoJSON.call(this,t);if(e.type=o.geoJSON.Polygon,e.coordinates=[],this.exteriorRing.length>0){for(var r=[],i=0;i<this.exteriorRing.length;i++)this.hasZ?r.push([this.exteriorRing[i].x,this.exteriorRing[i].y,this.exteriorRing[i].z]):r.push([this.exteriorRing[i].x,this.exteriorRing[i].y]);e.coordinates.push(r)}for(var s=0;s<this.interiorRings.length;s++){for(var a=[],h=0;h<this.interiorRings[s].length;h++)this.hasZ?a.push([this.interiorRings[s][h].x,this.interiorRings[s][h].y,this.interiorRings[s][h].z]):a.push([this.interiorRings[s][h].x,this.interiorRings[s][h].y]);e.coordinates.push(a)}return e}},1141:(t,e,r)=>{t.exports=a;var i=r(7807),n=r(740),o=r(2957),s=r(1199);function a(t,e){o.call(this),this.geometries=t||[],this.srid=e,this.geometries.length>0&&(this.hasZ=this.geometries[0].hasZ,this.hasM=this.geometries[0].hasM)}i.inherits(a,o),a.Z=function(t,e){var r=new a(t,e);return r.hasZ=!0,r},a.M=function(t,e){var r=new a(t,e);return r.hasM=!0,r},a.ZM=function(t,e){var r=new a(t,e);return r.hasZ=!0,r.hasM=!0,r},a._parseWkt=function(t,e){var r=new a;if(r.srid=e.srid,r.hasZ=e.hasZ,r.hasM=e.hasM,t.isMatch(["EMPTY"]))return r;t.expectGroupStart();do{r.geometries.push(o.parse(t))}while(t.isMatch([","]));return t.expectGroupEnd(),r},a._parseWkb=function(t,e){var r=new a;r.srid=e.srid,r.hasZ=e.hasZ,r.hasM=e.hasM;for(var i=t.readUInt32(),n=0;n<i;n++)r.geometries.push(o.parse(t,e));return r},a._parseTwkb=function(t,e){var r=new a;if(r.hasZ=e.hasZ,r.hasM=e.hasM,e.isEmpty)return r;for(var i=t.readVarInt(),n=0;n<i;n++)r.geometries.push(o.parseTwkb(t));return r},a._parseGeoJSON=function(t){for(var e=new a,r=0;r<t.geometries.length;r++)e.geometries.push(o._parseGeoJSON(t.geometries[r],!0));return e.geometries.length>0&&(e.hasZ=e.geometries[0].hasZ),e},a.prototype.toWkt=function(){if(0===this.geometries.length)return this._getWktType(n.wkt.GeometryCollection,!0);for(var t=this._getWktType(n.wkt.GeometryCollection,!1)+"(",e=0;e<this.geometries.length;e++)t+=this.geometries[e].toWkt()+",";return(t=t.slice(0,-1))+")"},a.prototype.toWkb=function(){var t=new s(this._getWkbSize());t.writeInt8(1),this._writeWkbType(t,n.wkb.GeometryCollection),t.writeUInt32LE(this.geometries.length);for(var e=0;e<this.geometries.length;e++)t.writeBuffer(this.geometries[e].toWkb({srid:this.srid}));return t.buffer},a.prototype.toTwkb=function(){var t=new s(0,!0),e=o.getTwkbPrecision(5,0,0),r=0===this.geometries.length;if(this._writeTwkbHeader(t,n.wkb.GeometryCollection,e,r),this.geometries.length>0){t.writeVarInt(this.geometries.length);for(var i=0;i<this.geometries.length;i++)t.writeBuffer(this.geometries[i].toTwkb())}return t.buffer},a.prototype._getWkbSize=function(){for(var t=9,e=0;e<this.geometries.length;e++)t+=this.geometries[e]._getWkbSize();return t},a.prototype.toGeoJSON=function(t){var e=o.prototype.toGeoJSON.call(this,t);e.type=n.geoJSON.GeometryCollection,e.geometries=[];for(var r=0;r<this.geometries.length;r++)e.geometries.push(this.geometries[r].toGeoJSON());return e}},1199:t=>{function e(t,e){this.buffer=new Buffer(t),this.position=0,this.allowResize=e}function r(t,e){return function(r,i){this.ensureSize(e),t.call(this.buffer,r,this.position,i),this.position+=e}}t.exports=e,e.prototype.writeUInt8=r(Buffer.prototype.writeUInt8,1),e.prototype.writeUInt16LE=r(Buffer.prototype.writeUInt16LE,2),e.prototype.writeUInt16BE=r(Buffer.prototype.writeUInt16BE,2),e.prototype.writeUInt32LE=r(Buffer.prototype.writeUInt32LE,4),e.prototype.writeUInt32BE=r(Buffer.prototype.writeUInt32BE,4),e.prototype.writeInt8=r(Buffer.prototype.writeInt8,1),e.prototype.writeInt16LE=r(Buffer.prototype.writeInt16LE,2),e.prototype.writeInt16BE=r(Buffer.prototype.writeInt16BE,2),e.prototype.writeInt32LE=r(Buffer.prototype.writeInt32LE,4),e.prototype.writeInt32BE=r(Buffer.prototype.writeInt32BE,4),e.prototype.writeFloatLE=r(Buffer.prototype.writeFloatLE,4),e.prototype.writeFloatBE=r(Buffer.prototype.writeFloatBE,4),e.prototype.writeDoubleLE=r(Buffer.prototype.writeDoubleLE,8),e.prototype.writeDoubleBE=r(Buffer.prototype.writeDoubleBE,8),e.prototype.writeBuffer=function(t){this.ensureSize(t.length),t.copy(this.buffer,this.position,0,t.length),this.position+=t.length},e.prototype.writeVarInt=function(t){for(var e=1;4294967168&t;)this.writeUInt8(127&t|128),t>>>=7,e++;return this.writeUInt8(127&t),e},e.prototype.ensureSize=function(t){if(this.buffer.length<this.position+t){if(!this.allowResize)throw new RangeError("index out of range");var e=new Buffer(this.position+t);this.buffer.copy(e,0,0,this.buffer.length),this.buffer=e}}},1865:t=>{t.exports={encode:function(t){return t<<1^t>>31},decode:function(t){return t>>1^-(1&t)}}},2104:(t,e,r)=>{t.exports=o;var i=r(740),n=r(4263);function o(t){this.value=t,this.position=0}o.prototype.match=function(t){this.skipWhitespaces();for(var e=0;e<t.length;e++)if(0===this.value.substring(this.position).indexOf(t[e]))return this.position+=t[e].length,t[e];return null},o.prototype.matchRegex=function(t){this.skipWhitespaces();for(var e=0;e<t.length;e++){var r=this.value.substring(this.position).match(t[e]);if(r)return this.position+=r[0].length,r}return null},o.prototype.isMatch=function(t){this.skipWhitespaces();for(var e=0;e<t.length;e++)if(0===this.value.substring(this.position).indexOf(t[e]))return this.position+=t[e].length,!0;return!1},o.prototype.matchType=function(){var t=this.match([i.wkt.Point,i.wkt.LineString,i.wkt.Polygon,i.wkt.MultiPoint,i.wkt.MultiLineString,i.wkt.MultiPolygon,i.wkt.GeometryCollection]);if(!t)throw new Error("Expected geometry type");return t},o.prototype.matchDimension=function(){switch(this.match(["ZM","Z","M"])){case"ZM":return{hasZ:!0,hasM:!0};case"Z":return{hasZ:!0,hasM:!1};case"M":return{hasZ:!1,hasM:!0};default:return{hasZ:!1,hasM:!1}}},o.prototype.expectGroupStart=function(){if(!this.isMatch(["("]))throw new Error("Expected group start")},o.prototype.expectGroupEnd=function(){if(!this.isMatch([")"]))throw new Error("Expected group end")},o.prototype.matchCoordinate=function(t){var e;if(!(e=t.hasZ&&t.hasM?this.matchRegex([/^(\S*)\s+(\S*)\s+(\S*)\s+([^\s,)]*)/]):t.hasZ||t.hasM?this.matchRegex([/^(\S*)\s+(\S*)\s+([^\s,)]*)/]):this.matchRegex([/^(\S*)\s+([^\s,)]*)/])))throw new Error("Expected coordinates");return t.hasZ&&t.hasM?new n(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])):t.hasZ?new n(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])):t.hasM?new n(parseFloat(e[1]),parseFloat(e[2]),void 0,parseFloat(e[3])):new n(parseFloat(e[1]),parseFloat(e[2]))},o.prototype.matchCoordinates=function(t){var e=[];do{var r=this.isMatch(["("]);e.push(this.matchCoordinate(t)),r&&this.expectGroupEnd()}while(this.isMatch([","]));return e},o.prototype.skipWhitespaces=function(){for(;this.position<this.value.length&&" "===this.value[this.position];)this.position++}},2957:(t,e,r)=>{t.exports=w;var i=r(740),n=r(4263),o=r(350),s=r(743),a=r(3452),h=r(3959),p=r(9236),u=r(1141),c=r(4047),g=r(1199),f=r(2104),l=r(1865);function w(){this.srid=void 0,this.hasZ=!1,this.hasM=!1}w.parse=function(t,e){if("string"==typeof t||t instanceof f)return w._parseWkt(t);if(Buffer.isBuffer(t)||t instanceof c)return w._parseWkb(t,e);throw new Error("first argument must be a string or Buffer")},w._parseWkt=function(t){var e,r,c=(e=t instanceof f?t:new f(t)).matchRegex([/^SRID=(\d+);/]);c&&(r=parseInt(c[1],10));var g=e.matchType(),l=e.matchDimension(),w={srid:r,hasZ:l.hasZ,hasM:l.hasM};switch(g){case i.wkt.Point:return n._parseWkt(e,w);case i.wkt.LineString:return o._parseWkt(e,w);case i.wkt.Polygon:return s._parseWkt(e,w);case i.wkt.MultiPoint:return a._parseWkt(e,w);case i.wkt.MultiLineString:return h._parseWkt(e,w);case i.wkt.MultiPolygon:return p._parseWkt(e,w);case i.wkt.GeometryCollection:return u._parseWkt(e,w)}},w._parseWkb=function(t,e){var r,g,f,l={};switch((r=t instanceof c?t:new c(t)).isBigEndian=!r.readInt8(),g=r.readUInt32(),l.hasSrid=!(536870912&~g),l.isEwkb=536870912&g||1073741824&g||2147483648&g,l.hasSrid&&(l.srid=r.readUInt32()),l.hasZ=!1,l.hasM=!1,l.isEwkb||e&&e.isEwkb?(2147483648&g&&(l.hasZ=!0),1073741824&g&&(l.hasM=!0),f=15&g):g>=1e3&&g<2e3?(l.hasZ=!0,f=g-1e3):g>=2e3&&g<3e3?(l.hasM=!0,f=g-2e3):g>=3e3&&g<4e3?(l.hasZ=!0,l.hasM=!0,f=g-3e3):f=g,f){case i.wkb.Point:return n._parseWkb(r,l);case i.wkb.LineString:return o._parseWkb(r,l);case i.wkb.Polygon:return s._parseWkb(r,l);case i.wkb.MultiPoint:return a._parseWkb(r,l);case i.wkb.MultiLineString:return h._parseWkb(r,l);case i.wkb.MultiPolygon:return p._parseWkb(r,l);case i.wkb.GeometryCollection:return u._parseWkb(r,l);default:throw new Error("GeometryType "+f+" not supported")}},w.parseTwkb=function(t){var e,r={},g=(e=t instanceof c?t:new c(t)).readUInt8(),f=e.readUInt8(),w=15&g;if(r.precision=l.decode(g>>4),r.precisionFactor=Math.pow(10,r.precision),r.hasBoundingBox=1&f,r.hasSizeAttribute=f>>1&1,r.hasIdList=f>>2&1,r.hasExtendedPrecision=f>>3&1,r.isEmpty=f>>4&1,r.hasExtendedPrecision){var d=e.readUInt8();r.hasZ=!(1&~d),r.hasM=!(2&~d),r.zPrecision=l.decode((28&d)>>2),r.zPrecisionFactor=Math.pow(10,r.zPrecision),r.mPrecision=l.decode((224&d)>>5),r.mPrecisionFactor=Math.pow(10,r.mPrecision)}else r.hasZ=!1,r.hasM=!1;if(r.hasSizeAttribute&&e.readVarInt(),r.hasBoundingBox){var y=2;r.hasZ&&y++,r.hasM&&y++;for(var k=0;k<y;k++)e.readVarInt(),e.readVarInt()}switch(w){case i.wkb.Point:return n._parseTwkb(e,r);case i.wkb.LineString:return o._parseTwkb(e,r);case i.wkb.Polygon:return s._parseTwkb(e,r);case i.wkb.MultiPoint:return a._parseTwkb(e,r);case i.wkb.MultiLineString:return h._parseTwkb(e,r);case i.wkb.MultiPolygon:return p._parseTwkb(e,r);case i.wkb.GeometryCollection:return u._parseTwkb(e,r);default:throw new Error("GeometryType "+w+" not supported")}},w.parseGeoJSON=function(t){return w._parseGeoJSON(t)},w._parseGeoJSON=function(t,e){var r;switch(t.type){case i.geoJSON.Point:r=n._parseGeoJSON(t);break;case i.geoJSON.LineString:r=o._parseGeoJSON(t);break;case i.geoJSON.Polygon:r=s._parseGeoJSON(t);break;case i.geoJSON.MultiPoint:r=a._parseGeoJSON(t);break;case i.geoJSON.MultiLineString:r=h._parseGeoJSON(t);break;case i.geoJSON.MultiPolygon:r=p._parseGeoJSON(t);break;case i.geoJSON.GeometryCollection:r=u._parseGeoJSON(t);break;default:throw new Error("GeometryType "+t.type+" not supported")}if(t.crs&&t.crs.type&&"name"===t.crs.type&&t.crs.properties&&t.crs.properties.name){var c=t.crs.properties.name;if(0===c.indexOf("EPSG:"))r.srid=parseInt(c.substring(5));else{if(0!==c.indexOf("urn:ogc:def:crs:EPSG::"))throw new Error("Unsupported crs: "+c);r.srid=parseInt(c.substring(22))}}else e||(r.srid=4326);return r},w.prototype.toEwkt=function(){return"SRID="+this.srid+";"+this.toWkt()},w.prototype.toEwkb=function(){var t=new g(this._getWkbSize()+4),e=this.toWkb();return t.writeInt8(1),t.writeUInt32LE((536870912|e.slice(1,5).readUInt32LE(0))>>>0,!0),t.writeUInt32LE(this.srid),t.writeBuffer(e.slice(5)),t.buffer},w.prototype._getWktType=function(t,e){var r=t;return this.hasZ&&this.hasM?r+=" ZM ":this.hasZ?r+=" Z ":this.hasM&&(r+=" M "),!e||this.hasZ||this.hasM||(r+=" "),e&&(r+="EMPTY"),r},w.prototype._getWktCoordinate=function(t){var e=t.x+" "+t.y;return this.hasZ&&(e+=" "+t.z),this.hasM&&(e+=" "+t.m),e},w.prototype._writeWkbType=function(t,e,r){var i=0;void 0!==this.srid||r&&void 0!==r.srid?(this.hasZ&&(i|=2147483648),this.hasM&&(i|=1073741824)):this.hasZ&&this.hasM?i+=3e3:this.hasZ?i+=1e3:this.hasM&&(i+=2e3),t.writeUInt32LE(i+e>>>0,!0)},w.getTwkbPrecision=function(t,e,r){return{xy:t,z:e,m:r,xyFactor:Math.pow(10,t),zFactor:Math.pow(10,e),mFactor:Math.pow(10,r)}},w.prototype._writeTwkbHeader=function(t,e,r,i){var n=(l.encode(r.xy)<<4)+e,o=(this.hasZ||this.hasM)<<3;if(o+=i<<4,t.writeUInt8(n),t.writeUInt8(o),this.hasZ||this.hasM){var s=0;this.hasZ&&(s|=1),this.hasM&&(s|=2),t.writeUInt8(s)}},w.prototype.toGeoJSON=function(t){var e={};return this.srid&&t&&(t.shortCrs?e.crs={type:"name",properties:{name:"EPSG:"+this.srid}}:t.longCrs&&(e.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+this.srid}})),e}},3452:(t,e,r)=>{t.exports=h;var i=r(7807),n=r(740),o=r(2957),s=r(4263),a=r(1199);function h(t,e){o.call(this),this.points=t||[],this.srid=e,this.points.length>0&&(this.hasZ=this.points[0].hasZ,this.hasM=this.points[0].hasM)}i.inherits(h,o),h.Z=function(t,e){var r=new h(t,e);return r.hasZ=!0,r},h.M=function(t,e){var r=new h(t,e);return r.hasM=!0,r},h.ZM=function(t,e){var r=new h(t,e);return r.hasZ=!0,r.hasM=!0,r},h._parseWkt=function(t,e){var r=new h;return r.srid=e.srid,r.hasZ=e.hasZ,r.hasM=e.hasM,t.isMatch(["EMPTY"])||(t.expectGroupStart(),r.points.push.apply(r.points,t.matchCoordinates(e)),t.expectGroupEnd()),r},h._parseWkb=function(t,e){var r=new h;r.srid=e.srid,r.hasZ=e.hasZ,r.hasM=e.hasM;for(var i=t.readUInt32(),n=0;n<i;n++)r.points.push(o.parse(t,e));return r},h._parseTwkb=function(t,e){var r=new h;if(r.hasZ=e.hasZ,r.hasM=e.hasM,e.isEmpty)return r;for(var i=new s(0,0,e.hasZ?0:void 0,e.hasM?0:void 0),n=t.readVarInt(),o=0;o<n;o++)r.points.push(s._readTwkbPoint(t,e,i));return r},h._parseGeoJSON=function(t){var e=new h;t.coordinates.length>0&&(e.hasZ=t.coordinates[0].length>2);for(var r=0;r<t.coordinates.length;r++)e.points.push(s._parseGeoJSON({coordinates:t.coordinates[r]}));return e},h.prototype.toWkt=function(){if(0===this.points.length)return this._getWktType(n.wkt.MultiPoint,!0);for(var t=this._getWktType(n.wkt.MultiPoint,!1)+"(",e=0;e<this.points.length;e++)t+=this._getWktCoordinate(this.points[e])+",";return(t=t.slice(0,-1))+")"},h.prototype.toWkb=function(){var t=new a(this._getWkbSize());t.writeInt8(1),this._writeWkbType(t,n.wkb.MultiPoint),t.writeUInt32LE(this.points.length);for(var e=0;e<this.points.length;e++)t.writeBuffer(this.points[e].toWkb({srid:this.srid}));return t.buffer},h.prototype.toTwkb=function(){var t=new a(0,!0),e=o.getTwkbPrecision(5,0,0),r=0===this.points.length;if(this._writeTwkbHeader(t,n.wkb.MultiPoint,e,r),this.points.length>0){t.writeVarInt(this.points.length);for(var i=new s(0,0,0,0),h=0;h<this.points.length;h++)this.points[h]._writeTwkbPoint(t,e,i)}return t.buffer},h.prototype._getWkbSize=function(){var t=16;return this.hasZ&&(t+=8),this.hasM&&(t+=8),t+=5,9+this.points.length*t},h.prototype.toGeoJSON=function(t){var e=o.prototype.toGeoJSON.call(this,t);e.type=n.geoJSON.MultiPoint,e.coordinates=[];for(var r=0;r<this.points.length;r++)e.coordinates.push(this.points[r].toGeoJSON().coordinates);return e}},3959:(t,e,r)=>{t.exports=p;var i=r(7807),n=r(740),o=r(2957),s=r(4263),a=r(350),h=r(1199);function p(t,e){o.call(this),this.lineStrings=t||[],this.srid=e,this.lineStrings.length>0&&(this.hasZ=this.lineStrings[0].hasZ,this.hasM=this.lineStrings[0].hasM)}i.inherits(p,o),p.Z=function(t,e){var r=new p(t,e);return r.hasZ=!0,r},p.M=function(t,e){var r=new p(t,e);return r.hasM=!0,r},p.ZM=function(t,e){var r=new p(t,e);return r.hasZ=!0,r.hasM=!0,r},p._parseWkt=function(t,e){var r=new p;if(r.srid=e.srid,r.hasZ=e.hasZ,r.hasM=e.hasM,t.isMatch(["EMPTY"]))return r;t.expectGroupStart();do{t.expectGroupStart(),r.lineStrings.push(new a(t.matchCoordinates(e))),t.expectGroupEnd()}while(t.isMatch([","]));return t.expectGroupEnd(),r},p._parseWkb=function(t,e){var r=new p;r.srid=e.srid,r.hasZ=e.hasZ,r.hasM=e.hasM;for(var i=t.readUInt32(),n=0;n<i;n++)r.lineStrings.push(o.parse(t,e));return r},p._parseTwkb=function(t,e){var r=new p;if(r.hasZ=e.hasZ,r.hasM=e.hasM,e.isEmpty)return r;for(var i=new s(0,0,e.hasZ?0:void 0,e.hasM?0:void 0),n=t.readVarInt(),o=0;o<n;o++){var h=new a;h.hasZ=e.hasZ,h.hasM=e.hasM;for(var u=t.readVarInt(),c=0;c<u;c++)h.points.push(s._readTwkbPoint(t,e,i));r.lineStrings.push(h)}return r},p._parseGeoJSON=function(t){var e=new p;t.coordinates.length>0&&t.coordinates[0].length>0&&(e.hasZ=t.coordinates[0][0].length>2);for(var r=0;r<t.coordinates.length;r++)e.lineStrings.push(a._parseGeoJSON({coordinates:t.coordinates[r]}));return e},p.prototype.toWkt=function(){if(0===this.lineStrings.length)return this._getWktType(n.wkt.MultiLineString,!0);for(var t=this._getWktType(n.wkt.MultiLineString,!1)+"(",e=0;e<this.lineStrings.length;e++)t+=this.lineStrings[e]._toInnerWkt()+",";return(t=t.slice(0,-1))+")"},p.prototype.toWkb=function(){var t=new h(this._getWkbSize());t.writeInt8(1),this._writeWkbType(t,n.wkb.MultiLineString),t.writeUInt32LE(this.lineStrings.length);for(var e=0;e<this.lineStrings.length;e++)t.writeBuffer(this.lineStrings[e].toWkb({srid:this.srid}));return t.buffer},p.prototype.toTwkb=function(){var t=new h(0,!0),e=o.getTwkbPrecision(5,0,0),r=0===this.lineStrings.length;if(this._writeTwkbHeader(t,n.wkb.MultiLineString,e,r),this.lineStrings.length>0){t.writeVarInt(this.lineStrings.length);for(var i=new s(0,0,0,0),a=0;a<this.lineStrings.length;a++){t.writeVarInt(this.lineStrings[a].points.length);for(var p=0;p<this.lineStrings[a].points.length;p++)this.lineStrings[a].points[p]._writeTwkbPoint(t,e,i)}}return t.buffer},p.prototype._getWkbSize=function(){for(var t=9,e=0;e<this.lineStrings.length;e++)t+=this.lineStrings[e]._getWkbSize();return t},p.prototype.toGeoJSON=function(t){var e=o.prototype.toGeoJSON.call(this,t);e.type=n.geoJSON.MultiLineString,e.coordinates=[];for(var r=0;r<this.lineStrings.length;r++)e.coordinates.push(this.lineStrings[r].toGeoJSON().coordinates);return e}},4047:t=>{function e(t,e){this.buffer=t,this.position=0,this.isBigEndian=e||!1}function r(t,e,r){return function(){var i;return i=this.isBigEndian?e.call(this.buffer,this.position):t.call(this.buffer,this.position),this.position+=r,i}}t.exports=e,e.prototype.readUInt8=r(Buffer.prototype.readUInt8,Buffer.prototype.readUInt8,1),e.prototype.readUInt16=r(Buffer.prototype.readUInt16LE,Buffer.prototype.readUInt16BE,2),e.prototype.readUInt32=r(Buffer.prototype.readUInt32LE,Buffer.prototype.readUInt32BE,4),e.prototype.readInt8=r(Buffer.prototype.readInt8,Buffer.prototype.readInt8,1),e.prototype.readInt16=r(Buffer.prototype.readInt16LE,Buffer.prototype.readInt16BE,2),e.prototype.readInt32=r(Buffer.prototype.readInt32LE,Buffer.prototype.readInt32BE,4),e.prototype.readFloat=r(Buffer.prototype.readFloatLE,Buffer.prototype.readFloatBE,4),e.prototype.readDouble=r(Buffer.prototype.readDoubleLE,Buffer.prototype.readDoubleBE,8),e.prototype.readVarInt=function(){var t,e=0,r=0;do{e+=(127&(t=this.buffer[this.position+r]))<<7*r,r++}while(t>=128);return this.position+=r,e}},4263:(t,e,r)=>{t.exports=h;var i=r(7807),n=r(2957),o=r(740),s=r(1199),a=r(1865);function h(t,e,r,i,o){n.call(this),this.x=t,this.y=e,this.z=r,this.m=i,this.srid=o,this.hasZ=void 0!==this.z,this.hasM=void 0!==this.m}i.inherits(h,n),h.Z=function(t,e,r,i){var n=new h(t,e,r,void 0,i);return n.hasZ=!0,n},h.M=function(t,e,r,i){var n=new h(t,e,void 0,r,i);return n.hasM=!0,n},h.ZM=function(t,e,r,i,n){var o=new h(t,e,r,i,n);return o.hasZ=!0,o.hasM=!0,o},h._parseWkt=function(t,e){var r=new h;if(r.srid=e.srid,r.hasZ=e.hasZ,r.hasM=e.hasM,t.isMatch(["EMPTY"]))return r;t.expectGroupStart();var i=t.matchCoordinate(e);return r.x=i.x,r.y=i.y,r.z=i.z,r.m=i.m,t.expectGroupEnd(),r},h._parseWkb=function(t,e){var r=h._readWkbPoint(t,e);return r.srid=e.srid,r},h._readWkbPoint=function(t,e){return new h(t.readDouble(),t.readDouble(),e.hasZ?t.readDouble():void 0,e.hasM?t.readDouble():void 0)},h._parseTwkb=function(t,e){var r=new h;return r.hasZ=e.hasZ,r.hasM=e.hasM,e.isEmpty||(r.x=a.decode(t.readVarInt())/e.precisionFactor,r.y=a.decode(t.readVarInt())/e.precisionFactor,r.z=e.hasZ?a.decode(t.readVarInt())/e.zPrecisionFactor:void 0,r.m=e.hasM?a.decode(t.readVarInt())/e.mPrecisionFactor:void 0),r},h._readTwkbPoint=function(t,e,r){return r.x+=a.decode(t.readVarInt())/e.precisionFactor,r.y+=a.decode(t.readVarInt())/e.precisionFactor,e.hasZ&&(r.z+=a.decode(t.readVarInt())/e.zPrecisionFactor),e.hasM&&(r.m+=a.decode(t.readVarInt())/e.mPrecisionFactor),new h(r.x,r.y,r.z,r.m)},h._parseGeoJSON=function(t){return h._readGeoJSONPoint(t.coordinates)},h._readGeoJSONPoint=function(t){return 0===t.length?new h:t.length>2?new h(t[0],t[1],t[2]):new h(t[0],t[1])},h.prototype.toWkt=function(){return void 0===this.x&&void 0===this.y&&void 0===this.z&&void 0===this.m?this._getWktType(o.wkt.Point,!0):this._getWktType(o.wkt.Point,!1)+"("+this._getWktCoordinate(this)+")"},h.prototype.toWkb=function(t){var e=new s(this._getWkbSize());return e.writeInt8(1),this._writeWkbType(e,o.wkb.Point,t),void 0===this.x&&void 0===this.y?(e.writeDoubleLE(NaN),e.writeDoubleLE(NaN),this.hasZ&&e.writeDoubleLE(NaN),this.hasM&&e.writeDoubleLE(NaN)):this._writeWkbPoint(e),e.buffer},h.prototype._writeWkbPoint=function(t){t.writeDoubleLE(this.x),t.writeDoubleLE(this.y),this.hasZ&&t.writeDoubleLE(this.z),this.hasM&&t.writeDoubleLE(this.m)},h.prototype.toTwkb=function(){var t=new s(0,!0),e=n.getTwkbPrecision(5,0,0),r=void 0===this.x&&void 0===this.y;return this._writeTwkbHeader(t,o.wkb.Point,e,r),r||this._writeTwkbPoint(t,e,new h(0,0,0,0)),t.buffer},h.prototype._writeTwkbPoint=function(t,e,r){var i=this.x*e.xyFactor,n=this.y*e.xyFactor,o=this.z*e.zFactor,s=this.m*e.mFactor;t.writeVarInt(a.encode(i-r.x)),t.writeVarInt(a.encode(n-r.y)),this.hasZ&&t.writeVarInt(a.encode(o-r.z)),this.hasM&&t.writeVarInt(a.encode(s-r.m)),r.x=i,r.y=n,r.z=o,r.m=s},h.prototype._getWkbSize=function(){var t=21;return this.hasZ&&(t+=8),this.hasM&&(t+=8),t},h.prototype.toGeoJSON=function(t){var e=n.prototype.toGeoJSON.call(this,t);return e.type=o.geoJSON.Point,void 0===this.x&&void 0===this.y?e.coordinates=[]:void 0!==this.z?e.coordinates=[this.x,this.y,this.z]:e.coordinates=[this.x,this.y],e}},9236:(t,e,r)=>{t.exports=p;var i=r(7807),n=r(740),o=r(2957),s=r(4263),a=r(743),h=r(1199);function p(t,e){o.call(this),this.polygons=t||[],this.srid=e,this.polygons.length>0&&(this.hasZ=this.polygons[0].hasZ,this.hasM=this.polygons[0].hasM)}i.inherits(p,o),p.Z=function(t,e){var r=new p(t,e);return r.hasZ=!0,r},p.M=function(t,e){var r=new p(t,e);return r.hasM=!0,r},p.ZM=function(t,e){var r=new p(t,e);return r.hasZ=!0,r.hasM=!0,r},p._parseWkt=function(t,e){var r=new p;if(r.srid=e.srid,r.hasZ=e.hasZ,r.hasM=e.hasM,t.isMatch(["EMPTY"]))return r;t.expectGroupStart();do{t.expectGroupStart();var i=[],n=[];for(t.expectGroupStart(),i.push.apply(i,t.matchCoordinates(e)),t.expectGroupEnd();t.isMatch([","]);)t.expectGroupStart(),n.push(t.matchCoordinates(e)),t.expectGroupEnd();r.polygons.push(new a(i,n)),t.expectGroupEnd()}while(t.isMatch([","]));return t.expectGroupEnd(),r},p._parseWkb=function(t,e){var r=new p;r.srid=e.srid,r.hasZ=e.hasZ,r.hasM=e.hasM;for(var i=t.readUInt32(),n=0;n<i;n++)r.polygons.push(o.parse(t,e));return r},p._parseTwkb=function(t,e){var r=new p;if(r.hasZ=e.hasZ,r.hasM=e.hasM,e.isEmpty)return r;for(var i=new s(0,0,e.hasZ?0:void 0,e.hasM?0:void 0),n=t.readVarInt(),o=0;o<n;o++){var h=new a;h.hasZ=e.hasZ,h.hasM=e.hasM;for(var u=t.readVarInt(),c=t.readVarInt(),g=0;g<c;g++)h.exteriorRing.push(s._readTwkbPoint(t,e,i));for(g=1;g<u;g++){for(var f=[],l=t.readVarInt(),w=0;w<l;w++)f.push(s._readTwkbPoint(t,e,i));h.interiorRings.push(f)}r.polygons.push(h)}return r},p._parseGeoJSON=function(t){var e=new p;t.coordinates.length>0&&t.coordinates[0].length>0&&t.coordinates[0][0].length>0&&(e.hasZ=t.coordinates[0][0][0].length>2);for(var r=0;r<t.coordinates.length;r++)e.polygons.push(a._parseGeoJSON({coordinates:t.coordinates[r]}));return e},p.prototype.toWkt=function(){if(0===this.polygons.length)return this._getWktType(n.wkt.MultiPolygon,!0);for(var t=this._getWktType(n.wkt.MultiPolygon,!1)+"(",e=0;e<this.polygons.length;e++)t+=this.polygons[e]._toInnerWkt()+",";return(t=t.slice(0,-1))+")"},p.prototype.toWkb=function(){var t=new h(this._getWkbSize());t.writeInt8(1),this._writeWkbType(t,n.wkb.MultiPolygon),t.writeUInt32LE(this.polygons.length);for(var e=0;e<this.polygons.length;e++)t.writeBuffer(this.polygons[e].toWkb({srid:this.srid}));return t.buffer},p.prototype.toTwkb=function(){var t=new h(0,!0),e=o.getTwkbPrecision(5,0,0),r=0===this.polygons.length;if(this._writeTwkbHeader(t,n.wkb.MultiPolygon,e,r),this.polygons.length>0){t.writeVarInt(this.polygons.length);for(var i=new s(0,0,0,0),a=0;a<this.polygons.length;a++){t.writeVarInt(1+this.polygons[a].interiorRings.length),t.writeVarInt(this.polygons[a].exteriorRing.length);for(var p=0;p<this.polygons[a].exteriorRing.length;p++)this.polygons[a].exteriorRing[p]._writeTwkbPoint(t,e,i);for(p=0;p<this.polygons[a].interiorRings.length;p++){t.writeVarInt(this.polygons[a].interiorRings[p].length);for(var u=0;u<this.polygons[a].interiorRings[p].length;u++)this.polygons[a].interiorRings[p][u]._writeTwkbPoint(t,e,i)}}}return t.buffer},p.prototype._getWkbSize=function(){for(var t=9,e=0;e<this.polygons.length;e++)t+=this.polygons[e]._getWkbSize();return t},p.prototype.toGeoJSON=function(t){var e=o.prototype.toGeoJSON.call(this,t);e.type=n.geoJSON.MultiPolygon,e.coordinates=[];for(var r=0;r<this.polygons.length;r++)e.coordinates.push(this.polygons[r].toGeoJSON().coordinates);return e}}}]);